oneJQuery(function($){var webShopPolicyCmpSel='[data-specific-kind="WEBSHOP_POLICIES"]',webShopPaymentMethodCmpSel='[data-specific-kind="WEBSHOP_PAYMENT_METHODS"]',stripCmpSel='[data-kind="STRIP"]',webShopPolicyContainerSel=webShopPolicyCmpSel+' .webShopPolicyLinksContainer',webShopPolicyLinkSel=webShopPolicyCmpSel+' a',webShopPaymentMethodImageContainerSel=webShopPaymentMethodCmpSel+' .webShopPaymentMethodImageContainer',webShopPaymentMethodImageSel=webShopPaymentMethodCmpSel+' img';function attachLinkHandlers(policies){$(webShopPolicyLinkSel).each(function(index){$(this).on('click',function(e){policies[index].fn()})})};function getParentStrip(){var parentStrip=$(webShopPolicyCmpSel).parents(stripCmpSel);if(!parentStrip.length){parentStrip=$(webShopPaymentMethodCmpSel).parents(stripCmpSel)}return parentStrip};function getPaymentMethodImages(paymentMethods){var paymentMethodImages=[];if(paymentMethods&&paymentMethods.length){paymentMethods.forEach(function(paymentMethod){if(paymentMethod.images&&paymentMethod.images.length){paymentMethodImages=paymentMethodImages.concat(paymentMethod.images)}})}return paymentMethodImages};var interval=setInterval(function(){if(window.one&&window.one.application&&window.one.application.wsb){clearInterval(interval);var wsb=window.one&&window.one.application&&window.one.application.wsb,isPoliciesExists=wsb&&wsb.policies&&wsb.policies.length,isPaymentMethodsExists=wsb&&wsb.paymentMethods&&wsb.paymentMethods.length,parentStrip=getParentStrip();if(!isPoliciesExists&&!isPaymentMethodsExists){parentStrip.hide();return}parentStrip.show();if(isPoliciesExists){if($(webShopPolicyLinkSel).length){$(webShopPolicyContainerSel).children().remove()}var $link=$(webShopPolicyCmpSel+' .hidden-webShopPolicyLink').clone().show(),$separator=$(webShopPolicyCmpSel+' .hidden-webShopPolicyLinkSeparator').clone().show();wsb.policies.forEach(function(policy,index){var $newLink=$link.clone();$newLink.find('span').text(policy.name);$(webShopPolicyContainerSel).append($newLink);if(index<wsb.policies.length-1){$(webShopPolicyContainerSel).append($separator.clone())}});attachLinkHandlers(wsb.policies)}else{if($(webShopPolicyCmpSel).length){$(webShopPolicyCmpSel).parents('.row').first().css('justify-content','center');$(webShopPolicyCmpSel).parents('.col').first().remove()}}if(isPaymentMethodsExists){var paymentMethods=wsb.paymentMethods;if($(webShopPaymentMethodImageSel).length){$(webShopPaymentMethodImageSel).remove()}var paymentMethodImages=getPaymentMethodImages(paymentMethods);if(paymentMethodImages.length){paymentMethodImages.forEach(function(image,j){$(webShopPaymentMethodImageContainerSel).append('<img src="'+image+'" class="webShopPaymentMethodImage" />')})}var paymentMethodWithNoImage=paymentMethods.find(function(paymentMethod){return paymentMethod.key==='Manual'});paymentMethodWithNoImageName=paymentMethodWithNoImage&&paymentMethodWithNoImage.name;var $methodText=$(webShopPaymentMethodCmpSel+' .webShopPaymentMethodText');if($methodText.length){if(paymentMethodWithNoImageName){$methodText.text(paymentMethodWithNoImageName);$methodText.show()}else{$methodText.hide()}}}}},250)});